<html>
  <head>
    <script>
      /*********************************************************************
      *  #### Twitter Post Fetcher v13.0 ####
      *  Coded by Jason Mayes 2015. A present to all the developers out there.
      *  www.jasonmayes.com
      *  Please keep this disclaimer with my code if you use it. Thanks. :-)
      *  Got feedback or questions, ask here:
      *  http://www.jasonmayes.com/projects/twitterApi/
      *  Github: https://github.com/jasonmayes/Twitter-Post-Fetcher
      *  Updates will be posted to this site.
      *
      *  Modified by Andrew DiLosa (Github @adilosa). Stripped down to 
      *  perform needed functionality only.
      *********************************************************************/
      (function(root, factory) {
          factory();
      }(this, function() {
        var domNode = 'example1';
        var maxTweets = 1;
        var queue = [];
        var inProgress = false;
        var formatterFunction = 'default';

        function strip(data) {
          return data.replace(/<b[^>]*>(.*?)<\/b>/gi, function(a,s){return s;})
              .replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,
              '');
        }

        function targetLinksToNewWindow(el) {
          var links = el.getElementsByTagName('a');
          for (var i = links.length - 1; i >= 0; i--) {
            links[i].setAttribute('target', '_blank');
          }
        }

        var twitterFetcher = {
          fetch: function(config) {
            if (inProgress) {
              queue.push(config);
            } else {
              inProgress = true;
              var script = document.createElement('script');
              script.type = 'text/javascript';
              script.src = '//cdn.syndication.twimg.com/widgets/timelines/' +
                  config.id + '?&lang=en&callback=twitterFetcher.callback&' +
                  'suppress_response_codes=true&rnd=' + Math.random();
              document.getElementsByTagName('head')[0].appendChild(script);
            }
          },
          callback: function(data) {
            var div = document.createElement('div');
            div.innerHTML = data.body;

            var tweets = div.getElementsByClassName('tweet');
            for (i = 0; i < tweets.length; i++) {
              var tweet = tweets[i];
              if (tweet.getElementsByClassName('retweet-credit').length > 0) {
                continue;
              }
              targetLinksToNewWindow(tweet.getElementsByClassName('e-entry-title')[0]);
              targetLinksToNewWindow(tweet.getElementsByClassName('p-author')[0]);
              var msg = tweet.getElementsByClassName('e-entry-title')[0].innerHTML;
              var author = tweet.getElementsByClassName('p-author')[0];
              var html = '<div>';
              html += '<div class="user">' + strip(author.innerHTML) +
                  '</div>';
              html += '<p>' + msg + '</p>';
              html += "</div>";
              document.getElementById(domNode).innerHTML += html;
              inProgress = false;
              break;
            }

            if (queue.length > 0) {
              twitterFetcher.fetch(queue[0]);
              queue.splice(0,1);
            }
          }
        };

        window.twitterFetcher = twitterFetcher;
        return twitterFetcher;
      }));
      var ids = ['587441476474273792', '587837524715773952'];
      ids.forEach(function(id) {
        twitterFetcher.fetch({"id": id});
      });
    </script>
  </head>
  <body>
    <div id="example1"></div>
  </body>
</html>
